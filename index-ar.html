<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>الرئيسية · طاقَثون</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap 5 + Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
  :root{
    --brand-blue:#007DFD;
    --brand-green:#09C899;
    --brand-dark:#00284C;
    --brand-grad: linear-gradient(90deg, var(--brand-green), var(--brand-blue));
    --text:#1d2733;
    --muted:#66768a;
  }

  html,body{
    font-family: Cairo, Poppins, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--text);
    background:#f8fbfd;
  }

  .rounded-2xl{ border-radius: 1rem; }
  .shadow-soft{ box-shadow: 0 10px 30px rgba(0,0,0,.12); }
  .badge-soft{ background:rgba(9,200,153,.15); color:#0a7b60; border:1px solid rgba(9,200,153,.3); }

  /* CTA band */
  .cta-band{ background: var(--brand-grad); color:#042233; }
  .cta-band .btn{ background:#fff; border:0; color:#042233; font-weight:600; }

  /* Countdown tiles */
  .count-tile{
    background: rgba(255,255,255,.15);
    border:1px solid rgba(255,255,255,.35);
    color:#fff; border-radius:.75rem; width:56px; height:56px;
    display:flex; align-items:center; justify-content:center; font-weight:700;
    box-shadow:0 6px 18px rgba(0,0,0,.06);
  }
  .count-label{ font-size:.8rem; color: rgba(255,255,255,.9); }

  /* Announcements — clean cards */
  .ann-list{
    max-width:900px;
    margin:0 auto;
    display:grid;
    gap:12px;
  }
  .ann-card{
    position:relative;
    background:#fff;
    border:1px solid #e7eef7;
    border-radius:12px;
    padding:16px 56px 16px 16px; /* RTL: icon on right */
    box-shadow:0 6px 18px rgba(0,0,0,.06);
  }
  .ann-icon{
    position:absolute; right:16px; top:16px; /* RTL */
    width:28px; height:28px; border-radius:8px;
    display:grid; place-items:center; font-size:16px;
  }
  .ann-date{ font-size:.8rem; color:#6c7a8a; }
  .ann-text{ color:#1d2733; }

  /* Type colors */
  .type-deadline .ann-icon{ background:#FFE8E8; color:#BB2D3B; }
  .type-update  .ann-icon{ background:#FFF3D6; color:#8A5A14; }
  .type-schedule .ann-icon{ background:#E7F0FF; color:#0D6EFD; }
  .type-general .ann-icon{ background:#E6FAF3; color:#0A7B60; }

  /* About list icons (RTL spacing: left margin) */
  .about-list .bi{ color: var(--brand-green); margin-left:.5rem; }

  /* Footer */
  footer{ background: var(--brand-dark); color:#cfd6df; }
  footer a{ color:#cfd6df; text-decoration:none; }

  /* General */
  .hero-img{ border-radius: 1rem; box-shadow: 0 18px 40px rgba(0,0,0,.18); }
  .text-secondary{ color:var(--muted)!important; }

  /* Navbar */
  .navbar{
    background:#fff;
    box-shadow:0 2px 10px rgba(0,0,0,.04);
    padding-top:.4rem;
    padding-bottom:.4rem;
  }
  .logo-mark{ height:60px; width:auto; object-fit:contain; }
  .assoc-logo{ height:48px; width:auto; object-fit:contain; }
  .navbar-brand img{ vertical-align:middle; }
  .navbar .container {
  gap: 1rem;
}
@media (max-width: 991.98px) {
  .logo-mark { height: 44px; }
  .assoc-logo { height: 32px; }
}

.navbar-nav .nav-link{
    font-weight:500;
    color:var(--brand-dark);
    transition:.2s;
  }
  .navbar-nav .nav-link:hover,
  .navbar-nav .nav-link.active{
    color:var(--brand-blue);
  }
/* Keep navbar on one line and keep edge clusters visible */
.navbar .container{ flex-wrap: nowrap; }
.navbar .navbar-brand,
.navbar .assoc-fixed{ flex-shrink: 0; }  /* don’t let logos compress into the collapse */

  /* EN language button (independent) */
  .btn-lang{
    background:var(--brand-blue);
    color:#ffffff !important;
    border:none;
    border-radius:.4rem;
    padding:.35rem .9rem;
    font-weight:500;
    transition:.2s;
  }
  .btn-lang:hover{
    background:var(--brand-green);
    color:#fff !important;
  }

  /* Hero image */
  .hero-img{
    display:block;
    width:100%;
    height:clamp(260px, 35vw, 520px);
    object-fit:cover;
    object-position:center;
  }
/* About image: keep proportions on desktop, clean crop on phones */
.about-img{
  display:block;
  width:100%;
  height:auto;               /* natural aspect on wide screens */
  border-radius:1rem;
  object-fit:cover;
  object-position:center;
}
@media (max-width: 767.98px){
  .about-img{
    height:240px;            /* prevents tall stretch on phones */
  }
}

  /* Countdown section: neutral background; centered rounded box */
  .gb-band{ background:transparent; }

  /* Animated gradient countdown box */
  .count-box{
    background:linear-gradient(135deg, #09C899, #007DFD, #09C899);
    background-size:300% 300%;
    border-radius:1rem;
    max-width:650px;
    box-shadow:0 10px 25px rgba(0,0,0,.15);
    animation:gradientMove 15s ease infinite;
  }
  .count-box .count-tile{
    background:rgba(255,255,255,.15);
    border:1px solid rgba(255,255,255,.25);
  }
  .count-box .count-label{
    color:rgba(255,255,255,.9);
  }
  @keyframes gradientMove {
    0%   { background-position:0% 50%; }
    50%  { background-position:100% 50%; }
    100% { background-position:0% 50%; }
  }

  /* About icon colors */
  .about-list .bi-lightbulb { color:#FFD43B; }
  .about-list .bi-person-lines-fill { color:#007DFD; }
  .about-list .bi-trophy-fill { color:#E67E22; }
  .about-list .bi-building-check { color:#09C899; }

  /* make the mobile menu drop full-width under the bar */
.navbar .container{ position: relative; }  /* anchor for absolute panel */

@media (max-width: 991.98px){
  .navbar .navbar-collapse{
    position: absolute;
    inset-inline: 0;          /* left/right = 0 (RTL/LTR safe) */
    top: 100%;                /* sits right under navbar */
    background: #fff;
    padding: .75rem 1rem;
    border-top: 1px solid #e9eef5;
    box-shadow: 0 10px 24px rgba(0,0,0,.08);
    z-index: 1000;
  }
  .navbar .navbar-nav{ align-items: stretch; }
  .navbar .nav-link{ padding: .5rem 0; }
}
/* MOBILE: compact AR/EN button inside burger */
@media (max-width: 991.98px){
  .navbar .btn-lang{
    width: auto !important;      /* undo full-width */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: .35rem .75rem;       /* smaller height */
    font-size: .9rem;             /* slightly smaller text */
    border-radius: .35rem;
    margin-top: .5rem;            /* keep a little gap above */
  }
}

  </style>
</head>

<body>
  <!-- Navbar -->
 <nav class="navbar navbar-expand-lg navbar-light sticky-top">
  <div class="container d-flex align-items-center justify-content-between">
    <!-- Right: Taqathon logo (never collapses) -->
    <a class="navbar-brand d-flex align-items-center" href="index-ar.html">
      <img src="assets/taqathon-logo.png" alt="طاقثون" class="logo-mark">
    </a>

    <!-- Center: nav links (collapsible) -->
    <div class="collapse navbar-collapse justify-content-lg-center" id="mainNav">
      <ul class="navbar-nav mb-2 mb-lg-0 align-items-lg-center">
        <li class="nav-item"><a class="nav-link active" href="index-ar.html">الرئيسية</a></li>
        <li class="nav-item"><a class="nav-link" href="contract-ar.html">العقد</a></li>
        <li class="nav-item"><a class="nav-link" href="schedule-ar.html">الجدول وورش العمل</a></li>
        <li class="nav-item"><a class="nav-link" href="submissions-ar.html">التسليمات</a></li>
        <li class="nav-item"><a class="nav-link" href="rules-ar.html">القواعد والموارد</a></li>
        <li class="nav-item"><a class="nav-link" href="contact-ar.html">تواصل معنا</a></li>
        <li class="nav-item me-3">
          <a class="btn btn-sm btn-lang" href="index.html">EN</a>
        </li>
      </ul>
    </div>

    <!-- Left: Association logo + burger (never collapses) -->
    <div class="assoc-fixed d-flex align-items-center gap-2">
      <a href="https://taqa.org.sa" target="_blank" rel="noopener" class="d-block">
        <img src="assets/association-logo.png" alt="جمعية الطاقة للتنمية المستدامة" class="assoc-logo">
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav"
              aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </div>
</nav>



  <!-- HERO -->
  <section class="py-5">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-lg-6">
          <span class="badge badge-soft">بوابة المشاركين</span>
          <h1 class="mt-3 mb-2">طاقَثون 2025</h1>
          <h6 class="text-secondary mb-3">هاكاثون الطاقة الوطني في المملكة العربية السعودية</h6>
          <p class="text-secondary">
            هذه البوابة مخصصة للمشاركين المقبولين. هنا تجد روابط الورش والجدول، وتطّلع على القواعد والموارد،
            وتسلّم مشروعك في الوقت المحدد. ينظم الحدث جمعية الطاقة للتنمية المستدامة ويدعم توجهات رؤية 2030.
          </p>
          <div class="d-flex flex-wrap gap-2 mt-3">
            <a class="btn btn-success" href="contract-ar.html"><i class="bi bi-file-earmark-text ms-1"></i> توقيع العقد</a>
            <a class="btn btn-outline-secondary" href="rules-ar.html"><i class="bi bi-journal-text ms-1"></i> عرض القواعد</a>
            <a class="btn btn-warning text-white" href="submissions-ar.html"><i class="bi bi-rocket-takeoff ms-1"></i> تسليم المشروع</a>
          </div>
        </div>
        <div class="col-lg-6">
          <img class="w-100 hero-img"
               src="assets/hero-wind.jpg"
               alt="توربينات رياح لتوليد طاقة نظيفة"
               loading="eager"
               decoding="async"
               width="1600" height="1000">
        </div>
      </div>
    </div>
  </section>

  <!-- COUNTDOWN (centered rounded card) -->
  <section class="gb-band py-5">
    <div class="container text-center">
      <div class="count-box mx-auto p-4 text-white">
        <div class="mb-2 fw-semibold">الموعد النهائي للتسليم</div>
        <div id="deadline" class="d-flex justify-content-center align-items-center gap-3"
             data-deadline="2025-11-29T23:59:59+03:00">
          <div class="text-center">
            <div class="count-tile"><span id="ddays">00</span></div>
            <div class="count-label">أيام</div>
          </div>
          <div class="text-center">
            <div class="count-tile"><span id="dhours">00</span></div>
            <div class="count-label">ساعات</div>
          </div>
          <div class="text-center">
            <div class="count-tile"><span id="dmins">00</span></div>
            <div class="count-label">دقائق</div>
          </div>
          <div class="text-center">
            <div class="count-tile"><span id="dsecs">00</span></div>
            <div class="count-label">ثوانٍ</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ANNOUNCEMENTS -->
  <section class="py-5" id="announcements">
    <div class="container">
      <div class="text-center text-secondary mb-3">الإعلانات</div>
      <div id="ann-wrap" class="ann-list"><!-- injected by JS --></div>
    </div>
  </section>

  <!-- ABOUT -->
  <section class="py-5">
    <div class="container">
      <div class="row g-4 align-items-center">
        <div class="col-lg-6">
          <img class="about-img shadow-sm"
     src="assets/about-solar.jpg"
     alt="Aerial view of solar panels in Saudi Arabia"
     loading="lazy" decoding="async">

        </div>
        <div class="col-lg-6">
          <h5>ماذا ستفعل في طاقَثون؟</h5>
          <p class="text-secondary">
            ستعمل ضمن فرق لتطوير حلول عملية في الطاقة المتجددة وكفاءة الاستهلاك وذكاء الطاقة،
            بإرشاد خبراء وبهدف التبني الواقعي المتوافق مع رؤية 2030.
          </p>
          <div class="row">
            <div class="col-6 about-list">
              <div class="mb-2"><i class="bi bi-lightbulb"></i> ورش يقودها خبراء (مثل: كاوست، أرامكو، سابك)</div>
              <div class="mb-2"><i class="bi bi-person-lines-fill"></i> إرشاد ومرافقة تقنية</div>
            </div>
            <div class="col-6 about-list">
              <div class="mb-2"><i class="bi bi-trophy-fill"></i> جوائز: 18 ألف / 12 ألف / 9 آلاف ريال</div>
              <div class="mb-2"><i class="bi bi-building-check"></i> فرص تبنّي من شركات كبرى</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA BAND -->
  <section class="cta-band py-5">
    <div class="container text-center">
      <h6 class="fw-semibold mb-1">ابقَ على المسار</h6>
      <p class="mb-3">أكمل توقيع العقد، واطّلع على القواعد، وتابع الجدول والإعلانات أولًا بأول.</p>
      <a class="btn btn-lg" href="contract-ar.html">ابدأ الآن</a>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="pt-5">
    <div class="container">
      <div class="row g-4">
        <div class="col-md-4">
          <h6 class="mb-3">طاقَثون</h6>
          <p class="mb-1 small">ينظمها جمعية الطاقة للتنمية المستدامة.</p>
        </div>
        <div class="col-md-4">
          <h6 class="mb-3">تابعنا</h6>
          <div class="d-flex gap-2">
            <a href="#"><i class="bi bi-facebook fs-5"></i></a>
            <a href="#"><i class="bi bi-instagram fs-5"></i></a>
            <a href="#"><i class="bi bi-linkedin fs-5"></i></a>
            <a href="#"><i class="bi bi-twitter-x fs-5"></i></a>
            <a href="#"><i class="bi bi-youtube fs-5"></i></a>
          </div>
        </div>
      </div>
      <div class="border-top border-secondary mt-4 pt-3 pb-4 small text-center">© 2025 طاقَثون. جميع الحقوق محفوظة.</div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    // === Countdown ===
    const $wrap = document.getElementById('deadline');
    const deadline = new Date($wrap.getAttribute('data-deadline')).getTime();
    function pad(n){ return (n<10?'0':'') + n; }
    function tick(){
      const now = new Date().getTime();
      let diff = Math.max(0, deadline - now);
      const days = Math.floor(diff / (1000*60*60*24));
      diff -= days*24*60*60*1000;
      const hours = Math.floor(diff / (1000*60*60));
      diff -= hours*60*60*1000;
      const mins = Math.floor(diff / (1000*60));
      diff -= mins*60*1000;
      const secs = Math.floor(diff / 1000);
      document.getElementById('ddays').textContent = pad(days);
      document.getElementById('dhours').textContent = pad(hours);
      document.getElementById('dmins').textContent = pad(mins);
      document.getElementById('dsecs').textContent = pad(secs);
    }
    tick(); setInterval(tick, 1000);
  </script>

  <script>
    // === Announcements loader (Arabic; clean cards) ===
    const annWrap = document.getElementById('ann-wrap');
    fetch('announcements-ar.json', { cache: 'no-store' })
      .then(r => r.ok ? r.json() : [])
      .then(items => {
        if (!Array.isArray(items)) return;

        items.sort((a,b) => new Date(b.date) - new Date(a.date));

        const iconByType = {
          deadline: 'bi-alarm',
          update:   'bi-megaphone',
          schedule: 'bi-calendar-event',
          general:  'bi-info-circle'
        };

        annWrap.innerHTML = items.slice(0, 8).map(it => {
          const t = (it.type || 'general').toLowerCase();
          const cls = ['deadline','update','schedule'].includes(t) ? t : 'general';
          const icon = iconByType[cls] || iconByType.general;
          const dateStr = it.date ? new Date(it.date).toLocaleDateString('ar-SA') : '';

          return `
            <div class="ann-card type-${cls}">
              <div class="ann-icon"><i class="bi ${icon}"></i></div>
              ${it.date ? `<div class="ann-date mb-1">${dateStr}</div>` : ''}
              <div class="ann-text">${it.text}</div>
            </div>
          `;
        }).join('');
      });
  </script>
</body>
</html>
