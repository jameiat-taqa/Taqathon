<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>اتفاقية المشاركة · طاقَثون</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap RTL + Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

  <style>
  :root{
    --brand-blue:#007DFD;
    --brand-green:#09C899;
    --brand-dark:#00284C;
    --brand-grad: linear-gradient(90deg, var(--brand-green), var(--brand-blue));
    --text:#1d2733;
    --muted:#66768a;
  }

  /* ===== Global (aligned with index-ar + sticky footer) ===== */
  html, body{
    margin:0; padding:0;
    font-family:Cairo, Poppins, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    color:var(--text); background:#f8fbfd;
    overflow-x:clip;
    height:100%;
  }
  html{ overflow:hidden; }

  body{
    min-height:100svh;
    overflow:auto;
    scrollbar-width:none;
    display:flex;
    flex-direction:column;
  }
  main{ flex:1 0 auto; }
  footer{ margin-top:auto; }

  body::-webkit-scrollbar{ width:0; height:0; }
  *, *::before, *::after{ box-sizing:border-box; }
  img, svg, canvas, video, iframe{ max-width:100%; height:auto; display:block; }

  .rounded-2xl{ border-radius: 1rem; }
  .shadow-soft{ box-shadow: 0 10px 30px rgba(0,0,0,.10); }
  .text-secondary{ color:var(--muted)!important; }
  .card-lite{ background:#fff; border:1px solid #e9eef3; }
  .btn-gradient{ background:var(--brand-grad); border:0; color:#fff; }

  /* ===== NAVBAR ===== */
  .navbar{
    background:#fff;
    box-shadow:0 2px 10px rgba(0,0,0,.04);
    padding-top:.4rem; padding-bottom:.4rem;
  }
  .navbar .container{ position:relative; flex-wrap:nowrap; }
  .navbar .navbar-brand, .navbar .assoc-fixed{ flex-shrink:0; }
  .logo-mark{ height:60px; width:auto; object-fit:contain; }
  .assoc-logo{ height:48px; width:auto; object-fit:contain; }
  .navbar-nav .nav-link{ font-weight:500; color:var(--brand-dark); transition:.2s; }
  .navbar-nav .nav-link:hover,
  .navbar-nav .nav-link.active{ color:var(--brand-blue); }
  .btn-lang{
    background:var(--brand-blue); color:#ffffff !important;
    border:none; border-radius:.4rem;
    padding:.35rem .9rem; font-weight:500; transition:.2s;
    margin-inline-start:1.25rem;
  }
  .btn-lang:hover{ background:var(--brand-green); color:#fff !important; }

  @media (max-width:991.98px){
    .navbar .navbar-collapse{
      position:absolute; inset-inline:0; top:100%;
      background:#fff; padding:.75rem 1rem;
      border-top:1px solid #e9eef5;
      box-shadow:0 10px 24px rgba(0,0,0,.08);
      z-index:1000;
    }
    .logo-mark{ height:44px; } .assoc-logo{ height:32px; }
  }

  /* ===== ICONS + BADGES ===== */
  .icon-circle{
    width:64px; height:64px; border-radius:999px; display:inline-flex; align-items:center; justify-content:center;
    background:linear-gradient(180deg,#eef6ff,#f3fbff); border:1px solid #c9ddff; color:var(--brand-blue);
    box-shadow:0 4px 16px rgba(0,125,253,.25);
  }
  .icon-circle i{ font-size:1.6rem; line-height:1; }

  .badge-step{
    display:inline-flex; align-items:center; justify-content:center; width:26px; height:26px; border-radius:999px; font-size:.9rem;
    background:rgba(32,201,151,.15); color:#1b7f61; border:1px solid rgba(32,201,151,.25);
  }

  /* ===== FOOTER ===== */
  footer{ background:var(--brand-dark); color:#cfd6df; }
  footer a{ color:#cfd6df; text-decoration:none; }
  .form-label.required::after{ content:" *"; color:#dc3545; font-weight:700; margin-inline-start:.15rem; }
  </style>
</head>

<body>
  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-light sticky-top">
    <div class="container d-flex align-items-center justify-content-between">
      <!-- العلامة (يمين في RTL) -->
      <a class="navbar-brand d-flex align-items-center" href="index.html" aria-label="الصفحة الرئيسية لطاقثون">
        <img src="assets/taqathon-logo.png" alt="شعار طاقثون" class="logo-mark">
      </a>

      <!-- الروابط -->
      <div class="collapse navbar-collapse justify-content-lg-center" id="mainNav">
        <ul class="navbar-nav mb-2 mb-lg-0 align-items-lg-center">
          <li class="nav-item"><a class="nav-link" href="index.html">الرئيسية</a></li>
          <li class="nav-item"><a class="nav-link active" href="contract.html">العقد</a></li>
          <li class="nav-item"><a class="nav-link" href="schedule.html">الجدول وورش العمل</a></li>
          <li class="nav-item"><a class="nav-link" href="submissions.html">التسليمات</a></li>
          <li class="nav-item"><a class="nav-link" href="rules.html">القواعد والموارد</a></li>
          <li class="nav-item"><a class="nav-link" href="contact.html">تواصل معنا</a></li>
          <li class="nav-item"><a class="btn btn-sm btn-lang" href="contract-en.html">EN</a></li>
        </ul>
      </div>

      <!-- شعار الجهة -->
      <div class="assoc-fixed d-flex align-items-center gap-2">
        <a href="https://taqa.org.sa" target="_blank" rel="noopener" aria-label="جمعية الطاقة للتنمية المستدامة">
          <img src="assets/association-logo.png" alt="جمعية الطاقة للتنمية المستدامة" class="assoc-logo">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav"
                aria-controls="mainNav" aria-expanded="false" aria-label="تبديل القائمة">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
    </div>
  </nav>

  <!-- MAIN -->
  <main class="py-5">
    <div class="container" style="max-width:980px;">
      <div class="text-center mb-4">
        <div class="icon-circle mx-auto mb-3"><i class="bi bi-pencil-square"></i></div>
        <h5 class="mb-1 fw-bold">اتفاقية المشاركة</h5>
        <p class="text-secondary mb-0">يرجى رفع ملف الـ PDF الموقّع لإكمال مشاركتك.</p>
      </div>

      <!-- Terms -->
      <div class="card card-lite rounded-2xl shadow-soft mb-4">
        <div class="card-body">
          <h6 class="mb-3">أبرز البنود</h6>
          <div class="d-flex align-items-start gap-2 mb-2"><span class="badge-step">1</span>
            <div>تحدّد هذه الاتفاقية العلاقة القانونية بين جمعية الطاقة للتنمية المستدامة والفرق المشاركة في طاقَثون.</div>
          </div>
          <div class="d-flex align-items-start gap-2 mb-2"><span class="badge-step">2</span>
            <div>تنظّم المشاركة أثناء الهاكاثون وتمنح الجمعية حقوق التسويق الحصرية لمدة سنة واحدة من تاريخ التوقيع.</div>
          </div>
          <div class="d-flex align-items-start gap-2 mb-2"><span class="badge-step">3</span>
            <div>يقرّ الفريق بالأعمال الأصلية، والالتزام بالورش والجلسات المطلوبة، والسماح للجمعية بالترويج للمشروعات.</div>
          </div>
          <div class="d-flex align-items-start gap-2 mb-2"><span class="badge-step">4</span>
            <div>إذا تم تبنّي المشروع أو الاستثمار فيه خلال مدة الاتفاقية فتُستحق عمولة تسويق بنسبة 10%.</div>
          </div>
          <div class="d-flex align-items-start gap-2"><span class="badge-step">5</span>
            <div>مدة الاتفاقية سنة واحدة (1).</div>
          </div>
        </div>
      </div>

      <!-- Upload Form -->
      <div class="card card-lite rounded-2xl shadow-soft">
        <div class="card-body">
          <h6 class="mb-4">رفع ملف PDF الموقّع</h6>
          <form id="agreementForm" class="needs-validation"novalidate method="POST"action="https://script.google.com/macros/s/AKfycbyFKOWj5Ol_5wD1G1DssSlPBN63YsxOfYOlzd_URzkQT-N_HySGcogfjs1-vhQvlGs/exec"enctype="multipart/form-data">

            <div class="row g-3">
              <div class="col-md-6">
                <label for="full_name" class="form-label required">الاسم الكامل</label>
                <input class="form-control" id="full_name" name="full_name" placeholder="اسمك الكامل" required>
                <div class="invalid-feedback">فضلاً أدخل الاسم الكامل.</div>
              </div>
              <div class="col-md-6">
                <label for="team_name" class="form-label required">اسم الفريق</label>
                <input class="form-control" id="team_name" name="team_name" placeholder="اسم الفريق" required>
                <div class="invalid-feedback">فضلاً أدخل اسم الفريق.</div>
              </div>
              <div class="col-md-6">
                <label for="email" class="form-label required">البريد الإلكتروني</label>
                <input type="email" class="form-control" id="email" name="email" placeholder="you@email.com" required>
                <div class="invalid-feedback">فضلاً أدخل بريدًا إلكترونيًا صحيحًا.</div>
              </div>
              <div class="col-md-6">
                <label for="file" class="form-label required">ملف PDF الموقّع</label>
                <input type="file" accept="application/pdf" class="form-control" id="file" name="file" required>
                <div class="invalid-feedback">فضلاً اختر ملف PDF.</div>
              </div>
              <div class="col-12">
                <div class="form-check">
                  <inputclass="form-check-input" type="checkbox"value="yes"id="agree" name="agreed"required>

                  <label class="form-check-label required" for="agree">قرأتُ وأوافق على اتفاقية المشاركة وقواعد الهاكاثون.</label>
                  <div class="invalid-feedback">يجب الموافقة قبل الإرسال.</div>
                </div>
              </div>
            </div>

            <input type="hidden" name="locale" value="ar">
            <input type="hidden" name="source" value="contract.html">
            <div id="status" class="mt-3 d-none" role="alert"></div>

            <div class="d-flex flex-wrap gap-2 align-items-center mt-2">
              <button id="submitBtn" class="btn btn-gradient px-4 py-2 rounded-2xl" type="submit" disabled>إرسال الاتفاقية</button>
              <a href="assets/Taqathon-Contract.pdf" class="btn btn-outline-secondary rounded-2xl" download>
                <i class="bi bi-download ms-1"></i> تحميل PDF
              </a>
            </div>
          </form>

          <div class="alert alert-info mt-3 rounded-2xl" role="alert">
            <div class="fw-semibold mb-1">ملاحظات الرفع</div>
            <ul class="mb-0"><li>ارفع <strong>PDF فقط</strong>. سيتم حظر الأنواع الأخرى.</li></ul>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="pt-5">
    <div class="container">
      <div class="row g-4">
        <div class="col-md-6">
          <h6 class="mb-3 text-white">طاقَثون</h6>
          <p class="small mb-1">برعاية جمعية الطاقة للتنمية المستدامة.</p>
        </div>
        <div class="col-md-6">
          <h6 class="mb-3 text-white">تابعنا</h6>
          <div class="d-flex gap-3">
            <a href="https://x.com/jameiat_taqa" target="_blank" class="text-light"><i class="bi bi-twitter-x fs-5"></i></a>
            <a href="https://instagram.com/jameiat_taqa" target="_blank" class="text-light"><i class="bi bi-instagram fs-5"></i></a>
            <a href="https://www.linkedin.com/company/جمعية-الطاقة-للتنمية-المستدامة" target="_blank" class="text-light"><i class="bi bi-linkedin fs-5"></i></a>
            <a href="https://tiktok.com/@jameiat_taqa" target="_blank" class="text-light"><i class="bi bi-tiktok fs-5"></i></a>
          </div>
        </div>
      </div>
      <div class="border-top border-secondary mt-4 pt-3 pb-4 small text-center">
        © <span id="year"></span> طاقَثون. جميع الحقوق محفوظة.
      </div>
    </div>
  </footer>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
    (function(){
      const form=document.getElementById('agreementForm');
      const btn=document.getElementById('submitBtn');
      if(!form||!btn)return;
      function update(){ btn.disabled=!form.checkValidity(); }
      form.addEventListener('input',update);
      form.addEventListener('change',update);
      update();
      form.addEventListener('submit',function(e){
        if(!form.checkValidity()){ e.preventDefault(); e.stopPropagation(); }
        form.classList.add('was-validated');
      },false);
    })();
  </script>
  
</body>
</html>
